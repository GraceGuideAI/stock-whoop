generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model DailyMetric {
  id              Int      @id @default(autoincrement())
  date            DateTime @unique
  recovery        Int?
  sleepPerformance Int?
  sleepHours      Float?
  strain          Float?
  hrvRmssd        Float?
  rhr             Int?
  respiratoryRate Float?
  skinTempC       Float?
  caloriesKcal    Float?
  steps           Int?
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

model MetricSeries {
  id        Int      @id @default(autoincrement())
  metric    String
  date      DateTime
  value     Float
  source    String?
  createdAt DateTime @default(now())

  @@unique([metric, date], name: "metric_date")
  @@index([metric, date])
}
